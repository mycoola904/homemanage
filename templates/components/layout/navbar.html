<!-- Navbar -->
<nav class="navbar w-full bg-base-300">
  <div class="flex-none">
    <label for="{{ drawer_id }}" aria-label="open sidebar" class="btn btn-square btn-ghost">
      <!-- Sidebar toggle icon -->
      <svg xmlns="http://www.w3.org/2000/svg"
           viewBox="0 0 24 24"
           stroke-linejoin="round"
           stroke-linecap="round"
           stroke-width="2"
           fill="none"
           stroke="currentColor"
           class="my-1.5 inline-block size-4">
        <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"></path>
        <path d="M9 4v16"></path>
        <path d="M14 10l2 2l-2 2"></path>
      </svg>
    </label>
  </div>

  <div class="flex-1 px-4 font-semibold">
    <a href="{% url 'household:home' %}" class="link link-hover">{{ navbar_title|default:"Home Management" }}</a>
  </div>

  {% if user.is_authenticated and available_households %}
  <div class="flex-none mr-2">
    <form method="post" action="{% url 'household:switch' %}" class="flex items-center gap-2">
      {% csrf_token %}
      <label for="household-switch" class="sr-only">Household</label>
      <select id="household-switch" name="household_id" class="select select-bordered select-sm" onchange="this.form.submit()">
        {% for household in available_households %}
          <option value="{{ household.id }}" {% if current_household and current_household.id == household.id %}selected{% endif %}>{{ household.name }}</option>
        {% endfor %}
      </select>
    </form>
  </div>
  {% endif %}

  <div class="flex-none mr-2">
    <a href="{% url 'financial:accounts-index' %}" class="btn btn-ghost btn-sm">Finance</a>
  </div>

  <div class="flex-none">
    <c-auth.menu />
  </div>
</nav>

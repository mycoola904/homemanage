<tr id="bill-pay-row-{{ row.account_id }}"
    data-account-id="{{ row.account_id }}"
    data-billpay-edit-row
    data-initial-focus-field="{{ focus_field }}">
    <td class="font-semibold">
        <button type="button"
                class="btn btn-ghost btn-xs"
                data-focus-field="funding_account"
                data-tab-order="1">
            {{ row.name }}
        </button>
    </td>
    <td>{{ row.institution|default:"—" }}</td>
    <td>{{ row.payment_due_day_display }}</td>
    <td>{{ row.minimum_amount_due_display }}</td>
    <td>
        {% if row.online_access_url %}
            <a href="{{ row.online_access_url }}" class="link link-primary" target="_blank" rel="noopener noreferrer">Open</a>
        {% else %}
            —
        {% endif %}
    </td>
    <td>
        <div class="space-y-1">
            {{ form.actual_payment_amount }}
            {% for error in form.actual_payment_amount.errors %}
                <p class="text-xs text-error">{{ error }}</p>
            {% endfor %}
        </div>
    </td>
    <td>
        <label class="inline-flex items-center gap-2">
            {{ form.paid }}
            <span class="text-sm">Paid</span>
        </label>
        {% for error in form.paid.errors %}
            <p class="text-xs text-error">{{ error }}</p>
        {% endfor %}
    </td>
    <td class="text-right">
        <form method="post"
              id="{{ form_id }}"
              action="{{ post_hx_url }}"
              hx-post="{{ post_hx_url }}"
              hx-target="#bill-pay-row-{{ row.account_id }}"
              hx-swap="outerHTML"
              class="inline-flex items-center gap-2">
            {% csrf_token %}
            <input type="hidden" name="keyboard_intent" value="save" />
            <input type="hidden" name="focus_field" value="save" />
            <button type="submit"
                    class="btn btn-xs btn-primary"
                    data-focus-field="save"
                    data-tab-order="4"
                    hx-disabled-elt="this">
                Save
            </button>
            <button type="button"
                    class="btn btn-xs"
                    data-focus-field="cancel"
                    data-tab-order="5"
                    hx-post="{{ post_hx_url }}"
                    hx-vals='{"keyboard_intent":"cancel","focus_field":"cancel"}'
                    hx-target="#bill-pay-row-{{ row.account_id }}"
                    hx-swap="outerHTML"
                    hx-disabled-elt="this">
                Cancel
            </button>
        </form>
        {% if form.non_field_errors %}
            <div class="mt-2 space-y-1 text-left">
                {% for error in form.non_field_errors %}
                    <p class="text-xs text-error">{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </td>
</tr>
